# Development Dockerfile for Go backend
FROM golang:1.23-alpine AS development

# Install development dependencies
RUN apk add --no-cache git gcc musl-dev

WORKDIR /app

# Copy ONLY go.mod
COPY go.mod ./

# Generate go.sum & download deps
RUN go mod tidy

# Copy source code
COPY . .

EXPOSE 8080

# Run the application with hot reload (using go run)
CMD ["go", "run", "."]
